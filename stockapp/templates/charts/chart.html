{% extends 'base.html' %}

{% block content %}
<div class="container">
  <h1>Stock Price Chart</h1>
  <a class="" href="{{ url_for('charts.chartdemo') }}">Chart Demo</a>
  <form method="post">
    <div class="form-group row">
      <label for="ticker" class="col-sm-2 col-form-label">Ticker:</label>
      <div class="col-sm-10">
        <input type="text" class="form-control" id="ticker" name="ticker" placeholder="Enter a stock ticker">
      </div>
    </div>
    <div class="form-group row">
      <label for="start" class="col-sm-2 col-form-label">Start Date:</label>
      <div class="col-sm-10">
        <input type="date" class="form-control" id="start" name="start">
      </div>
    </div>
    <div class="form-group row">
      <label for="end" class="col-sm-2 col-form-label">End Date:</label>
      <div class="col-sm-10">
        <input type="date" class="form-control" id="end" name="end">
      </div>
    </div>
    <div class="form-group row">
      <label for="period" class="col-sm-2 col-form-label">Period:</label>
      <div class="col-sm-10">
        <select class="form-control" id="period" name="period">
          <option value="">--Select a period--</option>
          <option value="1mo">1 Month</option>
          <option value="3mo">3 Months</option>
          <option value="6mo">6 Months</option>
          <option value="1y">1 Year</option>
          <option value="2y">2 Years</option>
          <option value="5y">5 Years</option>
        </select>
      </div>
    </div>
    <div class="form-group row">
      <label for="chart_type" class="col-sm-2 col-form-label">Chart Type:</label>
      <div class="col-sm-10">
        <select class="form-control" id="chart_type" name="chart_type">
          <option value="line">Line Chart</option>
          <option value="bar">Bar Chart</option>
          <option value="area">Area Chart</option>
          <option value="candlestick">Candlestick Chart</option>
        </select>
      </div>
    </div>
    <div class="form-group row">
      <div class="col-sm-12">
        <input type="submit" class="btn btn-primary btn-block" value="Create Chart">
      </div>
    </div>
  </form>
  <div id="chart"></div>
  {% if chart_data %}
  <script>
    var chartData = {{ chart_data|safe }};
    Highcharts.chart('chart', chartData );
  </script>
  {% endif %}
</div>
{% endblock content %}
